import csv
import matplotlib.pyplot as plt
import sklearn
import numpy as np
import os
import os.path
from sklearn.manifold import TSNE
import pandas as pd
from sklearn.feature_selection import SelectFromModel


maldata=pd.read_csv('./malware.csv',sep='|')

X=maldata.drop([ 'Name' , 'md5', 'legitimate'], axis=1).values
y=maldata['legitimate'].values
print(X.shape)
print(y.shape)
tsne=TSNE(n_components=2).fit_transform(X)

x_coordinates=tsne[:,0]
y_coordinates=tsne[:,1]

fig = plt.figure(figsize=(12, 8))
plt.scatter(x_coordinates, y_coordinates, s=40, c=y, cmap=plt.cm.Paired)
plt.xlabel('Feature 1')
plt.ylabel('Feature 2')
plt.title('Malware Detetion Visualization')
plt.show()
fig.savefig('temp.png', dpi=fig.dpi)
